---
title: 后台升级
date: 2016-10-21 10:41:33
tags: [后台升级]
---

 后台业务演进中，除了日常的开发，维护，还会会遇到的两个大问题。
业务升级，产品改进。
<!--more-->
[TOC]
# 业务升级
## Model升级
这一层很重要，会影响接下来的三部。
## 数据迁移
迁移很多情况下不是一次就能完全做对的，自己感觉没有太大问题就进入下一步，后台业务的重写。
## 后台升级
迁移后造成的结果就是前台后台很多功能不能使用了，要修改业务来使受到影响的业务恢复正常。
## Api升级
如果上面三部做的很好，这一步就很好做了，但是这一步需要前端和后端部分的配合，如果 后台 前端 api都是一个人来做，就不用多人配合了。

**对Api的要求，如果都做到最好：**
- 本地可测试，可调试。
- 有版本
-  api要有接口文档，约定好 输入 输出。
- 返回的数据保证最小可用
- 统一的错误返回格式

# 产品改进
**产品改进的一般流程：**
产品经理根据产品运用中出现的问题以及后续的设计提出产品改进需求，技术人员进行技术分解，开发，测试，上线。
这个过程的特点：
优：分工明确
缺：技术不懂产品。
**产品改进的快速迭代流程：**
1. 产品运营一段时间，积累了一部分问题。筛选出来必须阶段的问题。
2. 技术人员关注运营计划
3. 技术人员关注产品的可用性和性能
4. 技术人员提前开发，但不用过早开发。
特点：
优：技术人员了解产品
缺：分工不明确

## 产品规划
- 运营计划
    - 当前产品待完善
    - 后续产品点
## 可用性升级
- 当前产品待完善分解
- 结构改进
- 功能梳理 调整/改进
## 性能升级
### Api优化目标
- n+1
- 索引
- 多余字段
- 分段加载

### 前端Api效率
**优化目标，一下仅供参考 **
- 执行时间 <200ms
- sql <10
注：不要过早优化，不要盲目优化。忍不了的就去优化。做性价比高的事情。
### 后端
找出来慢功能，优化